<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title>Price generator</title>
    <meta name="description" content="Create an image of price for instagram or facebook post or stories online for free">
    <style>
        html {
            color-scheme: dark;
            font-family: system-ui, sans-serif;
            height: 100%;
            -webkit-text-size-adjust: 100%;
        }

        body {
            background-color: black;
            color: #fff;
            display: grid;
            grid-template-columns: auto 1fr;
            grid-template-rows: auto 1fr;
            line-height: 1.2;
            margin: 0;
            min-height: 100%;
        }

        .rendering> :not(.settings) * {
            overflow: -moz-hidden-unscrollable;
            overflow: hidden;
        }

        .rendering {
            width: 1080px;
            overflow: -moz-hidden-unscrollable;
            overflow: hidden;
        }

        button,
        input,
        select {
            font-size: inherit;
            max-width: 100%;
        }

        [type="checkbox"],
        [type="range"],
        [type="color"] {
            cursor: pointer;
        }

        [type="range"] {
            width: 7em;
        }

        .btn [type="color"] {
            background: none;
            border: 0;
            color: inherit;
            margin: 0;
            padding: 0;
            width: 2.5em;
            height: 2.5em;
            margin-inline-end: 6px;
        }

        select.btn,
        summary.btn {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23fff' d='M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z'%3E%3C/path%3E%3C/svg%3E");
            background-size: 24px;
            background-position: right;
            background-repeat: no-repeat;
            padding-right: 24px;
        }

        details[open]>summary.btn {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23fff' d='M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z'%3E%3C/path%3E%3C/svg%3E");
        }

        summary.btn::-webkit-details-marker {
            display: none;
        }

        canvas,
        iframe,
        img {
            vertical-align: middle;
        }

        .visually-hidden {
            border: 0;
            clip-path: inset(100%);
            clip: rect(0 0 0 0);
            height: 1px;
            margin: -1px;
            overflow: hidden;
            padding: 0;
            position: absolute;
            white-space: nowrap;
            width: 1px;
        }

        /* Pages */
        .pages {
            align-items: center;
            display: flex;
            flex-grow: 1;
            list-style: none;
            margin: 0;
            max-width: 100vw;
            overflow-x: auto;
            overflow-y: hidden;
            padding: 0;
            scroll-behavior: smooth;
            scroll-snap-type: x mandatory;
            touch-action: manipulation;
        }

        .pages>li {
            flex-basis: 100%;
            flex-shrink: 0;
            scroll-snap-align: center;
        }

        /* Price */
        .pages article {
            aspect-ratio: 1 / 1;
            background-color: #000;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            color: #fff;
            margin-left: auto;
            margin-right: auto;
            max-width: 1080px;
            display: grid;
            overflow: hidden;
        }

        .pages form {
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
            font-size: min(4vw, 44px);
            grid-column: 1/2;
            grid-row: 1/2;
            height: 100%;
            padding: 10% 8% 16%;
            position: relative;
        }

        .pages form:focus {
            outline: auto;
            outline-offset: -5px;
        }

        .pages article>div {
            grid-column: 1/2;
            grid-row: 1/2;
            padding-bottom: 100%;
            box-sizing: border-box;
            min-height: 100%;
        }

        .pages[data-aspect-ratio="4 / 5"] article>div {
            padding-bottom: 125%;
        }

        .pages[data-aspect-ratio="9 / 16"] article>div {
            padding-bottom: calc(16 / 9 * 100%);
        }

        .pages[data-aspect-ratio="4 / 5"] article {
            aspect-ratio: 4 / 5;
        }

        .pages[data-aspect-ratio="9 / 16"] article {
            aspect-ratio: 9 / 16;
        }

        .pages div+h2 {
            margin-block-start: 5.5%;
        }

        .pages h2 {
            font-size: min(9vw, 100px);
            text-align: start;
            touch-action: none;
        }

        .pages form div {
            align-items: end;
            display: grid;
            font-size: min(5.5vw, 60px);
            grid-auto-flow: dense;
            grid-template-columns: 1fr auto;
            margin-block-start: 1em;
        }

        [draggable] {
            transition: transform .5s cubic-bezier(.5, -1, 1, .5);
        }

        @keyframes wiggle {
            0% {
                transform: rotate(-.4deg);
            }

            100% {
                transform: rotate(.4deg);
            }
        }

        [draggable="true"] {
            animation-name: wiggle;
            animation-duration: .15s;
            animation-timing-function: ease-in-out;
            animation-iteration-count: infinite;
            animation-direction: alternate;
            cursor: grab;
            display: inline-block;
        }

        h2[draggable="true"] {
            width: fit-content;
        }

        [draggable="true"]:nth-child(2n) {
            animation-direction: alternate-reverse;
        }

        [draggable="true"]:active {
            animation: none;
            cursor: grabbing;
            outline: none;
        }

        [draggable="true"]:active * {
            outline: none;
        }


        .to-drag {
            caret-color: transparent;
            cursor: default;
            outline: none;
            transform: scale(.95);
        }

        .dragging {
            cursor: grabbing;
            outline: none;
            transform: scale(.95);
            -webkit-user-select: none;
            user-select: none;
        }

        .dragging * {
            outline: none;
        }

        .drag-over:not(:active) {
            opacity: .5;
            box-shadow: 0 -2px;
        }

        .pages h1,
        h2,
        h3 {
            font-weight: inherit;
            margin: 0;
        }

        .pages h1,
        h3 {
            font-size: inherit;
        }

        .pages h1:only-child,
        .pages form:not(:has(div)) h1 {
            font-size: min(16.5vw, 180px);
            padding-block-end: 4%;
            padding-block-start: 10%;
            text-align: inherit;
        }

        .pages h1:not(:only-child) {
            text-align: start;
        }

        .pages p {
            margin: 0;
        }

        .pages span {
            font-size: min(4vw, 44px);
            grid-column: 1/3;
        }

        .pages footer {
            order: 1;
            padding-block-start: 1em;
        }

        .pages *:not(h1)+footer {
            margin-block-start: auto;
            text-align: start;
        }

        body>main {
            align-self: center;
            grid-column: 1/3;
            grid-row: 1/3;
        }

        .settings {
            color: #fff;
            grid-column: 1/2;
            grid-row: 1/2;
            margin-bottom: auto;
            max-width: max(14em, 64vw);
            padding-inline-start: 6px;
            touch-action: manipulation;
            z-index: 1;
        }

        .btn {
            align-items: center;
            background-color: #3d3d3d;
            border-radius: 5px;
            border: 0;
            box-sizing: border-box;
            color: #fff;
            justify-content: center;
            margin: 2px 0 0 0;
            min-height: 48px;
            min-width: 48px;
            padding: 2px 6px 3px;
            text-align: center;
            transition: background-color .2s;
            vertical-align: middle;
        }

        .btn:not(:disabled) {
            cursor: pointer;
        }

        .btn:hover:not(:disabled) {
            background-color: #515151;
        }

        .btn:disabled {
            opacity: .5;
        }

        .btn:not([hidden]) {
            display: inline-flex;
        }

        a.btn {
            text-decoration: none;
        }

        .file {
            vertical-align: middle;
        }

        .file:focus-within .btn {
            outline: auto;
        }

        #delete {
            z-index: 1;
        }

        .float__fieldset {
            border: 0;
            box-sizing: border-box;
            margin: 0;
            max-width: min(100vw, 1080px);
            padding: 0 6px;
            z-index: 2;
        }

        .float__fieldset label.btn {
            box-sizing: border-box;
            cursor: auto;
            display: inline-flex;
            min-height: 48px;
            vertical-align: middle;
        }

        #titleAlignment:not([hidden]),
        #background:not([hidden]) {
            display: inline-block;
        }

        .add {
            display: flex;
            flex-direction: column;
            min-width: 6em;
            padding-inline-end: 6px;
            position: absolute;
            right: 0;
            top: 0;
            z-index: 1;
        }

        .add .btn {
            cursor: pointer;
            justify-content: flex-start;
            margin-bottom: 0;
            width: 100%;
        }

        .add .btn:not(:first-child) {
            border-top-left-radius: 0;
            border-top-right-radius: 0;
            border-top: 2px solid #333;
            margin-top: 0;
        }

        .add[open] .btn:not(:last-child) {
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }

        .float {
            grid-column: 1/3;
            grid-row: 1/2;
            z-index: 1;
        }

        .btn--group {
            display: inline-flex;
            vertical-align: middle;
        }

        .btn--group>.btn:first-child,
        .btn--group> :first-child .btn {
            border-bottom-right-radius: 0;
            border-right: 2px solid #333;
            border-top-right-radius: 0;
        }

        .btn--group>.btn:last-child {
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
        }

        .fd-c {
            flex-direction: column;
        }

    </style>
</head>

<body>
    <h1 class="visually-hidden">Price constructor</h1>
    <div class="float" id="float">
        <button class="btn" type="button" id="delete" hidden>Remove</button>
        <fieldset class="float__fieldset" id="titleAlignment" hidden>
            <legend class="visually-hidden">Alignment</legend>
            <select class="btn" name="textAlign" aria-label="Horizontal" id="textAlign">
                <option value="left">Left</option>
                <option value="center">Center</option>
                <option value="right">Right</option>
            </select>
            <select class="btn" name="justifyContent" aria-label="Vertical" id="justifyContent">
                <option value="flex-start">Top</option>
                <option value="center">Center</option>
                <option value="flex-end">Bottom</option>
            </select>
        </fieldset>
        <fieldset class="float__fieldset" id="background" hidden>
            <legend class="visually-hidden">Page settings</legend>
            <label class="btn"><input type="color" name="backgroundColor" id="backgroundColor"> Bg</label>
            <label class="btn fd-c">Transparency<input type="range" name="opacity" min="0" max="1" step="0.1" id="opacity"></label>
            <label class="btn fd-c">Blur<input type="range" name="backdropFilter" min="0" max="50" step="5" value="0" id="backdropFilter"></label>
            <span class="btn--group">
                <label class="file"><input class="visually-hidden" type="file" name="backgroundImage" id="backgroundImage" accept="image/*"><span class="btn">Image</span></label>
                <button class="btn" type="button" id="deleteBackgroundImage" aria-label="Remove image">Remove</button>
            </span>
            <label class="btn"><input type="color" name="color" id="color"> Text</label>
            <select class="btn" name="fontFamily" aria-label="Font" id="fontFamily">
                <option value="system-ui, sans-serif" selected>System font</option>
                <optgroup label="Serif">
                    <option value='Alegreya, serif'>Alegreya</option>
                    <option value='Alice, serif'>Alice</option>
                    <option value='Bitter, serif'>Bitter</option>
                    <option value='Cormorant, serif'>Cormorant</option>
                    <option value='"EB Garamond", serif'>EB Garamond</option>
                    <option value='"IBM Plex Serif", serif'>IBM Plex Serif</option>
                    <option value='Literata, serif'>Literata</option>
                    <option value='Lora, serif'>Lora</option>
                    <option value='Merriweather, serif'>Merriweather</option>
                    <option value='"Old Standard TT", serif'>Old Standard TT</option>
                    <option value='Piazzolla, serif'>Piazzolla</option>
                    <option value='"Playfair Display", serif'>Playfair Display</option>
                    <option value='Prata, serif'>Prata</option>
                    <option value='"PT Serif", serif'>PT Serif</option>
                    <option value='"PT Serif Caption", serif'>PT Serif Caption</option>
                    <option value='"Source Serif Pro", serif'>Source Serif Pro</option>
                    <option value='Spectral, serif'>Spectral</option>
                </optgroup>
                <optgroup label="Sans serif">
                    <option value='"Alegreya Sans", sans-serif'>Alegreya Sans</option>
                    <option value='Arsenal, sans-serif'>Arsenal</option>
                    <option value='Commissioner, sans-serif'>Commissioner</option>
                    <option value='"IBM Plex Sans", sans-serif'>IBM Plex Sans</option>
                    <option value='Inter, sans-serif'>Inter</option>
                    <option value='Montserrat, sans-serif'>Montserrat</option>
                    <option value='"PT Sans", sans-serif'>PT Sans</option>
                    <option value='Raleway, sans-serif'>Raleway</option>
                    <option value='Roboto, sans-serif'>Roboto</option>
                    <option value='"Roboto Condensed", sans-serif'>Roboto Condensed</option>
                    <option value='Rubik, sans-serif'>Rubik</option>
                    <option value='"Yanone Kaffeesatz", sans-serif'>Yanone Kaffeesatz</option>
                </optgroup>
                <optgroup label="Monospace">
                    <option value='"IBM Plex Mono", monospace'>IBM Plex Mono</option>
                    <option value='"JetBrains Mono", monospace'>JetBrains Mono</option>
                    <option value='"PT Mono", monospace'>PT Mono</option>
                    <option value='"Roboto Mono", monospace'>Roboto Mono</option>
                </optgroup>
                <optgroup label="Decorative">
                    <option value='Caveat, cursive'>Caveat</option>
                    <option value='Lobster, cursive'>Lobster</option>
                    <option value='Pacifico, cursive'>Pacifico</option>
                    <option value='Pangolin, cursive'>Pangolin</option>
                    <option value='Podkova, serif'>Podkova</option>
                    <option value='"Press Start 2P", serif'>Press Start 2P</option>
                    <option value='"Ruslan Display", serif'>Ruslan Display</option>
                    <option value='"Russo One", sans-serif'>Russo One</option>
                    <option value='Underdog, cursive'>Underdog</option>
                    <option value='"Yeseva One", serif'>Yeseva One</option>
                </optgroup>
            </select>
            <button class="btn" type="button" id="deletePage">Remove page</button>
        </fieldset>
    </div>
    <div class="settings" id="settings">
        <span class="btn--group">
            <button class="btn" type="button" id="save">Image</button>
            <a class="btn" href="./" download='price.json' id="export">JSON</a>
        </span>
        <select class="btn" name="aspectRatio" aria-label="Aspect ratio" id="aspectRatio">
            <option value="1 / 1">1:1</option>
            <option value="4 / 5" selected>4:5</option>
            <option value="9 / 16">9:16</option>
        </select>
        <label class="btn fd-c"><input type="checkbox" name="sorting" id="sorting"> Sort</label>
    </div>
    <details class="add" id="add">
        <summary class="btn">Add</summary>
        <button class="btn" type="button" id="page">Blank page</button>
        <button class="btn" type="button" id="duplicate">Page copy</button>
        <button class="btn" type="button" id="title">Title</button>
        <button class="btn" type="button" id="category">Category</button>
        <button class="btn" type="button" id="service">Service</button>
        <button class="btn" type="button" id="footer">Footer</button>
        <label class="file"><input class="visually-hidden" id="import" type="file" accept="application/json" /><span class="btn">Import...</span></label>
    </details>
    <main>
        <h2 class="visually-hidden">Pages and content</h2>
        <ol id="pages" class="pages"></ol>
    </main>
    <script src="js/main.js" type="module"></script>
</body>

</html>
